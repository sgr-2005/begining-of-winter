<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>满屏温馨提醒</title>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      background: #f9f7f0;
      overflow: hidden;
      font-family: "Microsoft YaHei", sans-serif;
    }
    .tip-bubble {
      position: absolute;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
      opacity: 0;
      transform: scale(0.9);
      transition: opacity 0.3s, transform 0.3s;
      pointer-events: none;
      z-index: 9999;
    }
    .tip-bubble.show { opacity: 1; transform: scale(1); }
    .tip-bubble.converge {
      transition: left 1.2s, top 1.2s, opacity 1.2s !important;
      opacity: 0 !important;
    }
  </style>
</head>
<body>

<script>
// ========== 尺寸：用幕布（短边）定大小 ==========
const SCREEN_W = window.innerWidth;
const SCREEN_H = window.innerHeight;
const CANVAS_SIZE = Math.min(SCREEN_W, SCREEN_H);

const BUBBLE_WIDTH = CANVAS_SIZE / 5;
const BUBBLE_HEIGHT = BUBBLE_WIDTH * (60 / 140); // 140:60
const FONT_SIZE = Math.max(12, BUBBLE_HEIGHT / 4);

// 最终气泡
const FINAL_BUBBLE_WIDTH = CANVAS_SIZE / 5;
const FINAL_BUBBLE_HEIGHT = FINAL_BUBBLE_WIDTH * (70 / 160); // 160:70
const FINAL_FONT_SIZE = Math.max(14, FINAL_BUBBLE_HEIGHT / 4.4);

// ========== 数据 ==========
const tips = ['小怡多喝热水哦~', '小怡记得看天气预报~', '小怡每天都要开开心心的~',
        '小怡天凉了多穿点衣服~', '小怡记得每天都要想我呀~', '小怡我每天都在呀~',
        '小怡我想你啦~', '小怡早点睡觉不许熬夜~', '小怡期待我们见面的那天~',
        '小怡好好吃饭哦~', '小怡照顾好自己~', '小怡想我了就告诉我~','小怡等你回消息~'
	];
const colors = ['#FFB6C1', '#87CEEB', '#90EE90', '#E6E6FA', '#FFFFE0',
  '#DDA0DD', '#FF7F50', '#FFE4C4', '#7FFFD4', '#FFE4E1',
  '#F0FFF0', '#FFF0F5', '#FDF5E6'];
let isPaused = false;
const allBubbles = [];

// ========== 创建气泡（满屏位置！） ==========
function createTip() {
  if (isPaused) return;
  const bubble = document.createElement('div');
  bubble.className = 'tip-bubble';
  bubble.textContent = tips[Math.floor(Math.random() * tips.length)];
  bubble.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];

  // 尺寸由幕布决定
  bubble.style.width = `${BUBBLE_WIDTH}px`;
  bubble.style.height = `${BUBBLE_HEIGHT}px`;
  bubble.style.fontSize = `${FONT_SIZE}px`;

  // 位置满屏随机
  const x = Math.random() * (SCREEN_W - BUBBLE_WIDTH);
  const y = Math.random() * (SCREEN_H - BUBBLE_HEIGHT);
  bubble.style.left = `${x}px`;
  bubble.style.top = `${y}px`;

  document.body.appendChild(bubble);
  allBubbles.push(bubble);
  setTimeout(() => bubble.classList.add('show'), 10);
}

// 暂停
document.addEventListener('keydown', e => {
  if (e.code === 'Space') {
    e.preventDefault();
    isPaused = !isPaused;
  }
});

// 启动
let count = 0;
const total = 200;
const interval = setInterval(() => {
  if (count >= total) {
    clearInterval(interval);
    // 汇聚到屏幕中心
    const cx = SCREEN_W / 2 - BUBBLE_WIDTH / 2;
    const cy = SCREEN_H / 2 - BUBBLE_HEIGHT / 2;
    allBubbles.forEach(b => {
      b.classList.add('converge');
      b.style.left = `${cx}px`;
      b.style.top = `${cy}px`;
    });
    setTimeout(() => {
      allBubbles.forEach(b => b.remove());
      const final = document.createElement('div');
      final.textContent = '立冬快乐！';
      final.style.cssText = `
        position: fixed; left: 50%; top: 50%;
        transform: translate(-50%, -50%);
        width: ${FINAL_BUBBLE_WIDTH}px;
        height: ${FINAL_BUBBLE_HEIGHT}px;
        font-size: ${FINAL_FONT_SIZE}px;
        background: linear-gradient(to right, #ff9a9e, #fad0c4);
        color: white; border-radius: 12px;
        display: flex; align-items: center; justify-content: center;
        z-index: 10000;
      `;
      document.body.appendChild(final);
    }, 1200);
    return;
  }
  createTip();
  count++;
}, 80);
</script>

</body>
</html>
